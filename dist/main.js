(()=>{"use strict";class e{constructor(e,t,n=0){this.apiKey="ba2ccfa3d69b4712b5e74013241405",this.apiMethod=e,this.location=t,this.days=n}}function t(e){const t=document.querySelector(".content"),a=document.querySelector(".not-found");"none"==t.style.display&&(t.style.display="block",a.style.display="none"),function(e){let t=document.querySelector(".location-name"),n=document.querySelector(".location-details"),a=e.localtime.split(" ")[1],c=e.region+", "+e.country+", "+a;t.innerHTML=e.name,n.innerHTML=c}(e.location),function(e){let t=document.querySelector(".img-current-temp"),a=n(e.condition.text);t.src=a.src,t.alt=a.alt;let c=document.querySelector(".current-temperature-deg"),o=document.querySelector(".feels-like-temperature-deg"),i=document.querySelector(".current-precipitation-mm"),r=document.querySelector(".current-wind-kph");c.innerHTML=e.temp_c+"&deg",o.innerHTML=e.feelslike_c+"&deg",i.innerHTML=e.precip_mm,r.innerHTML=e.wind_kph}(e.current),function(e){let t=document.querySelector(".total-precip-mm"),n=e.day.totalprecip_mm;t.innerHTML=n}(e.forecast.forecastday[0]),function(e){let t=document.querySelector(".list-container"),a=document.querySelector(".weather-list-content");a&&t.removeChild(a),a=document.createElement("ol"),a.classList.add("weather-list-content"),e.forEach((e=>{let t=function(e){let t=document.createElement("li");t.classList.add("weather-list-item");let a=document.createElement("div");a.classList.add("list-item-date");let c=document.createElement("span"),o=function(e){let t="",n=function(e){let t="";const n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let a=!1,c=new Date(e),o=new Date;return a=c.setHours(0,0,0,0)==o.setHours(0,0,0,0),t=a?"Today":n[c.getDay()],t}(e),a=function(e){let t="";return t=["Jan.","Feb.","March","April","May","June","July","Aug.","Sep.","Oct.","Nov.","Dec."][(new Date).getMonth()],t}();return t=n+" "+e.split("-").pop()+" "+a,t}(e.date);c.innerHTML=o,a.appendChild(c);let i=document.createElement("ol");i.classList.add("list-forecast-symbols"),i.classList.add("d-flex");const r=["morning","afternoon","evening","night"];for(let t=0;t<r.length;t++){let a=document.createElement("li");a.classList.add("list-forecast-symbol"),a.classList.add("symbol-"+r[t]);let c=new Image(40,40);c.classList.add("img"),c.classList.add("img-forecast");let o="";switch(r[t]){case"morning":o=e.hour[8].condition.text;break;case"afternoon":o=e.hour[12].condition.text;break;case"evening":o=e.hour[18].condition.text;break;default:o=e.hour[22].condition.text}let l=n(o);c.setAttribute("src",l.src),c.setAttribute("alt",l.alt),a.appendChild(c),i.appendChild(a)}let l=document.createElement("div");l.classList.add("list-forecast-item"),l.classList.add("d-flex");let s=document.createElement("div");s.classList.add("list-item-temperature"),s.classList.add("color-temperature");let d=document.createElement("span");d.innerHTML=e.day.maxtemp_c+"&deg / "+e.day.mintemp_c+"&deg",s.appendChild(d),l.appendChild(s);let u=document.createElement("div");u.classList.add("list-item-precip"),u.classList.add("color-precipitation");let m=document.createElement("span");m.innerHTML=e.day.totalprecip_mm+" mm",u.appendChild(m),l.appendChild(u);let p=document.createElement("div");p.classList.add("list-item-wind");let h=document.createElement("span");return h.innerHTML=e.day.maxwind_kph+" kp/h",p.appendChild(h),l.appendChild(p),t.appendChild(a),t.appendChild(i),t.appendChild(l),t}(e);a.appendChild(t)})),t.appendChild(a)}(e.forecast.forecastday)}function n(e){let t={src:"",alt:""},n="",a="",c=-1;switch(c=function(e,t){for(let n=0;n<e.length;n++){const a=e[n];for(let e=0;e<t.length;e++)if(-1!==t[e].indexOf(a))return e}return-1}(e.toLowerCase().split(" "),[["sun","sunny"],["rain","rainy"],["thunder","lightning"],["snow","snowing"]]),c){case 0:n="/icons/weather-conditions/sunny.svg",a="Image of the sun";break;case 1:n="/icons/weather-conditions/rain.svg",a="Image of the rain";break;case 2:n="/icons/weather-conditions/thunder.svg",a="Image of the thunder";break;case 3:n="/icons/weather-conditions/snow.svg",a="Image of the snow";break;default:n="/icons/weather-conditions/cloudy.svg",a="Image of the cloud"}return t.src=n,t.alt=a,t}const a=document.querySelector(".input-location"),c=document.querySelector(".btn-search");c&&c.addEventListener("click",(async()=>{let n=!1;n=function(e){let t=!1;t=e.length>=2,t=t&&e.length<=20;let n=/^[a-zA-Z]+$/.test(e);return t=t&&1==n,t}(a.value),n&&(async function(t,n,a=0){const c=new e(t,n,a);let o="https://api.weatherapi.com/v1/"+c.apiMethod+"?key="+c.apiKey+"&q="+n+"&days="+c.days+"&contentType=json",i=await fetch(o);if(200!==i.status)throw new Error("Cannot fetch the data");return await i.json()}("forecast.json",a.value,5).then((e=>{t(e)})).catch((e=>{console.log(e),document.querySelector(".content").style.display="none",document.querySelector(".not-found").style.display="flex"})),a.value="")})),a.value="Elverum",c.click()})();